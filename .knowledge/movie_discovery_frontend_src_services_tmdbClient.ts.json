{"is_source_file": true, "format": "TypeScript", "description": "This file provides a client for interacting with The Movie Database (TMDB) API, including functions to fetch popular movies, search movies, fetch detailed information for a specific movie, and map raw API results to Movie objects.", "external_files": ["../context/AppState"], "external_methods": [], "published": ["fetchPopular", "searchMovies", "fetchMovieDetails", "mapMovies"], "classes": [], "methods": [{"name": "async function apiGet<T>(path: string, params?: Record<string, string | number | undefined>): Pr/ apiGet", "description": "A wrapper function for making authenticated GET requests to the TMDB API, handling URL construction, query parameters, and error handling.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchPopular(): Promise<Movie[]> { fetchPopular", "description": "Fetches a list of popular movies from TMDB and returns an array of Movie objects.", "scope": "", "scopeKind": ""}, {"name": "export async function searchMovies(query: string): Promise<Movie[]> { searchMovies", "description": "Searches for movies matching a query string and returns an array of Movie objects.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchMovieDetails(id: number): Promise<Movie & { videos?: { results?: any[/ fetchMovieDetails", "description": "Fetches detailed information about a specific movie by ID, including optional videos.", "scope": "", "scopeKind": ""}, {"name": "export function mapMovies(results: any[]): Movie[] { mapMovies", "description": "Transforms raw API movie result objects into Movie objects used within the application.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "Object.entries", "usp.set", "mapMovies"], "search-terms": ["tmdbClient", "fetchPopular", "searchMovies", "fetchMovieDetails", "API_BASE", "API_KEY"], "state": 2, "file_id": 31, "knowledge_revision": 120, "git_revision": "", "revision_history": [{"64": ""}, {"99": ""}, {"120": ""}], "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/movie-discovery-platform-18571-18580/movie_discovery_frontend/src/services/tmdbClient.ts", "pattern": "/^const API_BASE = import.meta.env.VITE_TMDB_API_BASE || \"https:\\/\\/api.themoviedb.org\\/3\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "API_KEY", "path": "/home/kavia/workspace/code-generation/movie-discovery-platform-18571-18580/movie_discovery_frontend/src/services/tmdbClient.ts", "pattern": "/^const API_KEY = import.meta.env.VITE_TMDB_API_KEY;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "Paginated", "path": "/home/kavia/workspace/code-generation/movie-discovery-platform-18571-18580/movie_discovery_frontend/src/services/tmdbClient.ts", "pattern": "/^type Paginated<T> = { page: number; results: T[] };$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "apiGet", "path": "/home/kavia/workspace/code-generation/movie-discovery-platform-18571-18580/movie_discovery_frontend/src/services/tmdbClient.ts", "pattern": "/^async function apiGet<T>(path: string, params?: Record<string, string | number | undefined>): Pr/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/movie-discovery-platform-18571-18580/movie_discovery_frontend/src/services/tmdbClient.ts", "pattern": "/^  const data = await apiGet<Paginated<any>>(\"\\/movie\\/popular\");$/", "language": "TypeScript", "kind": "constant", "scope": "fetchPopular", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/movie-discovery-platform-18571-18580/movie_discovery_frontend/src/services/tmdbClient.ts", "pattern": "/^  const data = await apiGet<Paginated<any>>(\"\\/search\\/movie\", { query });$/", "language": "TypeScript", "kind": "constant", "scope": "searchMovies", "scopeKind": "function"}, {"_type": "tag", "name": "fetchMovieDetails", "path": "/home/kavia/workspace/code-generation/movie-discovery-platform-18571-18580/movie_discovery_frontend/src/services/tmdbClient.ts", "pattern": "/^export async function fetchMovieDetails(id: number): Promise<Movie & { videos?: { results?: any[/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchPopular", "path": "/home/kavia/workspace/code-generation/movie-discovery-platform-18571-18580/movie_discovery_frontend/src/services/tmdbClient.ts", "pattern": "/^export async function fetchPopular(): Promise<Movie[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "mapMovies", "path": "/home/kavia/workspace/code-generation/movie-discovery-platform-18571-18580/movie_discovery_frontend/src/services/tmdbClient.ts", "pattern": "/^export function mapMovies(results: any[]): Movie[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/movie-discovery-platform-18571-18580/movie_discovery_frontend/src/services/tmdbClient.ts", "pattern": "/^  const res = await fetch(url);$/", "language": "TypeScript", "kind": "constant", "scope": "apiGet", "scopeKind": "function"}, {"_type": "tag", "name": "searchMovies", "path": "/home/kavia/workspace/code-generation/movie-discovery-platform-18571-18580/movie_discovery_frontend/src/services/tmdbClient.ts", "pattern": "/^export async function searchMovies(query: string): Promise<Movie[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/movie-discovery-platform-18571-18580/movie_discovery_frontend/src/services/tmdbClient.ts", "pattern": "/^    const text = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "apiGet", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/movie-discovery-platform-18571-18580/movie_discovery_frontend/src/services/tmdbClient.ts", "pattern": "/^  const url = `${API_BASE}${path}?${usp.toString()}`;$/", "language": "TypeScript", "kind": "constant", "scope": "apiGet", "scopeKind": "function"}, {"_type": "tag", "name": "usp", "path": "/home/kavia/workspace/code-generation/movie-discovery-platform-18571-18580/movie_discovery_frontend/src/services/tmdbClient.ts", "pattern": "/^  const usp = new URLSearchParams({ api_key: API_KEY as string, language: \"en-US\" });$/", "language": "TypeScript", "kind": "constant", "scope": "apiGet", "scopeKind": "function"}], "hash": "7ec56b278f102ab645df68b3e5ebae7f", "format-version": 4, "code-base-name": "movie_discovery_frontend", "filename": "movie_discovery_frontend/src/services/tmdbClient.ts"}